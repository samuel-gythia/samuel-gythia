name: Portfolio Health Check

on:
  schedule:
    # Run weekly health check
    - cron: '0 0 * * 1'
  workflow_dispatch:

jobs:
  health-check:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        
      - name: Check repository health
        run: |
          echo "üîç Running portfolio health check..."
          
          # Check file sizes
          echo "üìä File size analysis:"
          find . -name "*.css" -exec ls -lh {} \; | awk '{print $5 " " $9}'
          
          # Check for TODO/FIXME comments
          echo "üìù Checking for TODO/FIXME comments:"
          grep -r "TODO\|FIXME\|HACK\|XXX" . --include="*.css" --include="*.html" --include="*.md" || echo "‚úÖ No TODO/FIXME comments found"
          
          # Basic accessibility check
          echo "‚ôø Basic accessibility check:"
          if find . -name "*.html" -exec grep -l "alt=" {} \; | head -1; then
            echo "‚úÖ Found images with alt attributes"
          else
            echo "‚ö†Ô∏è  No alt attributes found in HTML files"
          fi
          
          echo "‚úÖ Health check completed"